<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Contador de Palavras | Plena Utils</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8fafc;
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>

<body class="h-screen flex flex-col p-4 md:p-8">
    <div id="app"
        class="flex-1 flex flex-col max-w-4xl mx-auto w-full bg-white rounded-3xl shadow-xl overflow-hidden border border-slate-100">

        <!-- Toolbar -->
        <div class="h-16 border-b border-slate-100 flex items-center justify-between px-6 bg-slate-50">
            <h1 class="font-bold text-slate-700 flex items-center gap-2">
                <i class="fa-solid fa-file-word text-blue-500"></i> Contador
            </h1>
            <div class="flex gap-2">
                <button @click="text = ''"
                    class="text-xs font-bold text-red-500 hover:bg-red-50 px-3 py-1.5 rounded transition">
                    LIMPAR
                </button>
                <button @click="copyText"
                    class="text-xs font-bold text-blue-500 hover:bg-blue-50 px-3 py-1.5 rounded transition">
                    COPIAR
                </button>
            </div>
        </div>

        <!-- Main Input -->
        <textarea v-model="text" placeholder="Comece a digitar ou cole seu texto aqui..."
            class="flex-1 w-full p-8 text-lg text-slate-600 outline-none resize-none leading-relaxed"></textarea>

        <!-- Stats Bar -->
        <div
            class="h-24 bg-slate-900 text-white flex items-center justify-around px-4 md:px-12 border-t border-slate-800">
            <div class="text-center">
                <div class="text-2xl font-bold">{{ stats.words }}</div>
                <div class="text-[10px] uppercase tracking-widest text-slate-400">Palavras</div>
            </div>
            <div class="text-center">
                <div class="text-2xl font-bold">{{ stats.chars }}</div>
                <div class="text-[10px] uppercase tracking-widest text-slate-400">Caracteres</div>
            </div>
            <div class="text-center hidden md:block">
                <div class="text-2xl font-bold">{{ stats.sentences }}</div>
                <div class="text-[10px] uppercase tracking-widest text-slate-400">Frases</div>
            </div>
            <div class="text-center hidden md:block">
                <div class="text-2xl font-bold">{{ stats.paragraphs }}</div>
                <div class="text-[10px] uppercase tracking-widest text-slate-400">Par√°grafos</div>
            </div>
            <div class="text-center bg-blue-600 px-4 py-1 rounded-lg">
                <div class="text-xl font-bold">{{ stats.readTime }}m</div>
                <div class="text-[10px] uppercase tracking-widest text-blue-200">Leitura</div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        createApp({
            setup() {
                const text = ref('');

                const stats = computed(() => {
                    const s = text.value;
                    const words = s.trim() === '' ? 0 : s.trim().split(/\s+/).length;
                    const chars = s.length;
                    const charsNoSpace = s.replace(/\s/g, '').length;
                    const sentences = s.split(/[.!?]+/).filter(Boolean).length;
                    const paragraphs = s.split(/\n\n+/).filter(Boolean).length;
                    // Avg reading speed 200 wpm
                    const readTime = Math.ceil(words / 200) || 1;

                    return { words, chars, sentences, paragraphs, readTime };
                });

                const copyText = () => {
                    if (!text.value) return;
                    navigator.clipboard.writeText(text.value);
                    alert('Copiado!');
                };

                return { text, stats, copyText };
            }
        }).mount('#app');
    </script>
</body>

</html>