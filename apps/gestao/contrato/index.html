<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Gerador de Contratos | Plena Gestão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @media print {
            .no-print {
                display: none !important;
            }

            .print-only {
                display: block !important;
            }

            body {
                background: white;
            }

            #contract-preview {
                box-shadow: none;
                border: none;
                padding: 0;
            }
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen font-sans">
    <div id="app" class="flex flex-col md:flex-row h-screen">

        <!-- Sidebar Editor -->
        <aside class="w-full md:w-96 bg-white border-r border-gray-200 overflow-y-auto p-6 no-print z-10 shadow-lg">
            <h1 class="text-xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                <i class="fa-solid fa-file-contract text-blue-600"></i> Editor de Contrato
            </h1>

            <div class="space-y-4">
                <div class="p-4 bg-blue-50 rounded-lg border border-blue-100">
                    <h3 class="font-bold text-blue-800 mb-3 text-sm uppercase">1. Contratante (Cliente)</h3>
                    <input v-model="form.clientName" placeholder="Nome Completo / Razão Social"
                        class="w-full mb-2 p-2 border rounded text-sm">
                    <input v-model="form.clientDoc" placeholder="CPF / CNPJ" class="w-full p-2 border rounded text-sm">
                </div>

                <div class="p-4 bg-green-50 rounded-lg border border-green-100">
                    <h3 class="font-bold text-green-800 mb-3 text-sm uppercase">2. Contratado (Você)</h3>
                    <input v-model="form.myName" placeholder="Seu Nome / Empresa"
                        class="w-full mb-2 p-2 border rounded text-sm">
                    <input v-model="form.myDoc" placeholder="Seu CPF / CNPJ" class="w-full p-2 border rounded text-sm">
                </div>

                <div class="p-4 bg-orange-50 rounded-lg border border-orange-100">
                    <h3 class="font-bold text-orange-800 mb-3 text-sm uppercase">3. Serviço & Valores</h3>
                    <textarea v-model="form.service" rows="3" placeholder="Descrição do serviço..."
                        class="w-full mb-2 p-2 border rounded text-sm"></textarea>
                    <div class="grid grid-cols-2 gap-2">
                        <input v-model="form.value" type="text" placeholder="R$ 0,00"
                            class="w-full p-2 border rounded text-sm">
                        <input v-model="form.date" type="date" class="w-full p-2 border rounded text-sm">
                    </div>
                </div>

                <div class="pt-4">
                    <button @click="printContract"
                        class="w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow transition">
                        <i class="fa-solid fa-print"></i> Imprimir / Salvar PDF
                    </button>
                    <p class="text-xs text-center text-gray-400 mt-2">Este é um modelo padrão. Consulte um advogado.</p>
                </div>
            </div>
        </aside>

        <!-- Preview Area -->
        <main class="flex-1 bg-gray-100 p-8 overflow-y-auto flex justify-center">
            <div id="contract-preview"
                class="bg-white w-full max-w-[21cm] min-h-[29.7cm] p-[2.5cm] shadow-2xl text-justify leading-relaxed text-gray-800 relative">

                <h2 class="text-center font-bold text-xl mb-8 uppercase border-b pb-4">Contrato de Prestação de Serviços
                </h2>

                <p class="mb-6">
                    <strong>CONTRATANTE:</strong>
                    <span class="bg-blue-50 px-1" v-if="!form.clientName">[Nome do Cliente]</span>
                    <span v-else>{{ form.clientName }}</span>,
                    inscrito(a) no CPF/CNPJ sob nº
                    <span v-if="!form.clientDoc">___.___.___-__</span>
                    <span v-else>{{ form.clientDoc }}</span>.
                </p>

                <p class="mb-6">
                    <strong>CONTRATADO:</strong>
                    <span class="bg-green-50 px-1" v-if="!form.myName">[Seu Nome]</span>
                    <span v-else>{{ form.myName }}</span>,
                    inscrito(a) no CPF/CNPJ sob nº
                    <span v-if="!form.myDoc">___.___.___-__</span>
                    <span v-else>{{ form.myDoc }}</span>.
                </p>

                <p class="mb-6">
                    <strong>OBJETO:</strong> O presente contrato tem como objeto a prestação dos seguintes serviços
                    profissionais:
                </p>
                <div class="mb-6 p-4 border border-gray-200 bg-gray-50 rounded italic">
                    {{ form.service || "Descreva o serviço a ser prestado aqui..." }}
                </div>

                <p class="mb-6">
                    <strong>VALOR E PAGAMENTO:</strong> Pelo serviço prestado, o Contratante pagará ao Contratado a
                    quantia de
                    <strong>{{ form.value || "R$ 0,00" }}</strong>, a ser pago na data de término do serviço ou conforme
                    combinado.
                </p>

                <p class="mb-6">
                    <strong>FORO:</strong> As partes elegem o foro da comarca local para dirimir quaisquer dúvidas
                    oriundas deste contrato.
                </p>

                <p class="mb-12">
                    E por estarem justos e contratados, assinam o presente em 02 (duas) vias de igual teor.
                </p>

                <div class="mt-20 text-center">
                    <p class="mb-1">Local e Data: ______________________, {{ formattedToday }}</p>
                </div>

                <div class="mt-24 grid grid-cols-2 gap-16 text-center">
                    <div>
                        <div class="border-t border-black pt-2 mb-1">{{ form.clientName || "Contratante" }}</div>
                        <div class="text-xs text-gray-500">Contratante</div>
                    </div>
                    <div>
                        <div class="border-t border-black pt-2 mb-1">{{ form.myName || "Contratado" }}</div>
                        <div class="text-xs text-gray-500">Contratado</div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        const { createApp, ref, computed } = Vue;

        createApp({
            setup() {
                const form = ref({
                    clientName: '',
                    clientDoc: '',
                    myName: '',
                    myDoc: '',
                    service: '',
                    value: '',
                    date: new Date().toISOString().split('T')[0]
                });

                const formattedToday = computed(() => {
                    const d = new Date();
                    return d.toLocaleDateString('pt-BR', { day: 'numeric', month: 'long', year: 'numeric' });
                });

                const printContract = () => {
                    window.print();
                };

                return { form, formattedToday, printContract };
            }
        }).mount('#app');
    </script>
</body>

</html>