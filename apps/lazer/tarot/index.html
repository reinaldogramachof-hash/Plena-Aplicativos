<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot do Dia | Plena Apps</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #1a1a2e;
            font-family: 'Cinzel Decorative', cursive;
            color: #e9d5ff;
        }

        [v-cloak] {
            display: none;
        }

        .card-container {
            perspective: 1000px;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .front,
        .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 1rem;
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }

        .front {
            background: linear-gradient(135deg, #2e1065 0%, #000 100%);
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .back {
            background-image: url('https://www.transparenttextures.com/patterns/black-scales.png');
            background-color: #111;
            border: 2px solid #5b21b6;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
    <script src="../../../assets/js/plena-lock.js"></script>
</head>

<body class="flex flex-col min-h-screen">

    <div id="app" v-cloak
        class="flex-grow flex flex-col items-center justify-center p-6 text-center max-w-md mx-auto w-full">

        <h1 class="text-3xl md:text-4xl text-purple-300 mb-2 drop-shadow-lg"><i class="fa-solid fa-moon"></i> Tarot do
            Dia</h1>
        <p class="text-purple-400/60 text-sm mb-8 font-sans">Concentre-se na sua pergunta...</p>

        <!-- CARD AREA -->
        <div class="card-container w-64 h-96 cursor-pointer mb-8" @click="revealCard">
            <div class="card-inner" :class="{ flipped: isFlipped }">

                <!-- BACK (Cover) -->
                <div class="back text-purple-800 text-6xl">
                    <i class="fa-solid fa-eye"></i>
                </div>

                <!-- FRONT (Content) -->
                <div class="front p-4 border-2 border-purple-500">
                    <div v-if="card">
                        <i :class="card.icon" class="text-5xl text-purple-300 mb-4 block"></i>
                        <h2 class="text-xl font-bold text-white mb-2">{{ card.name }}</h2>
                        <div class="w-full h-px bg-purple-500/50 mb-4"></div>
                        <p class="text-sm font-sans text-gray-300 leading-relaxed">{{ card.desc }}</p>
                    </div>
                </div>

            </div>
        </div>

        <!-- ACTIONS -->
        <div class="space-y-4 w-full">
            <button v-if="!isFlipped" @click="revealCard"
                class="w-full bg-purple-700 hover:bg-purple-600 text-white py-3 rounded-full font-bold shadow-lg shadow-purple-900/50 transition font-sans">
                TIRAR CARTA
            </button>

            <div v-else class="space-y-3 font-sans animate-fade-in">
                <button @click="shareWhatsapp"
                    class="w-full bg-green-600 hover:bg-green-500 text-white py-3 rounded-full font-bold shadow flex items-center justify-center gap-2">
                    <i class="fa-brands fa-whatsapp"></i> Compartilhar Destino
                </button>
                <button @click="reset" class="text-purple-400 text-sm hover:text-white underline">
                    Tirar outra carta (AmanhÃ£)
                </button>
            </div>
        </div>

    </div>

    <script>
        const { createApp, ref } = Vue;

        createApp({
            setup() {
                const isFlipped = ref(false);
                const card = ref(null);

                // Major Arcana subset
                const deck = [
                    { name: "O Louco", icon: "fa-solid fa-person-walking-luggage", desc: "Novos comeÃ§os, aventura, espontaneidade. Um salto de fÃ© espera por vocÃª hoje." },
                    { name: "O Mago", icon: "fa-solid fa-wand-magic-sparkles", desc: "Poder, habilidade, concentraÃ§Ã£o. VocÃª tem todos os recursos que precisa para vencer." },
                    { name: "A Sacerdotisa", icon: "fa-solid fa-book-open", desc: "IntuiÃ§Ã£o, mistÃ©rio, subconsciente. Escute sua voz interior, ela sabe o caminho." },
                    { name: "A Imperatriz", icon: "fa-solid fa-seedling", desc: "Fertilidade, abundÃ¢ncia, natureza. Um momento de criaÃ§Ã£o e crescimento em sua vida." },
                    { name: "O Imperador", icon: "fa-solid fa-chess-king", desc: "Autoridade, estrutura, estabilidade. Ã‰ hora de organizar e liderar com firmeza." },
                    { name: "Os Amantes", icon: "fa-solid fa-heart", desc: "Amor, uniÃ£o, escolhas. Uma decisÃ£o importante sobre relacionamentos ou valores." },
                    { name: "A Carruagem", icon: "fa-solid fa-horse-head", desc: "Controle, vontade, vitÃ³ria. Avance com determinaÃ§Ã£o, o sucesso Ã© garantido." },
                    { name: "A ForÃ§a", icon: "fa-solid fa-hand-fist", desc: "Coragem, paciÃªncia, compaixÃ£o. Domine seus impulsos com gentileza." },
                    { name: "O Eremita", icon: "fa-solid fa-lantern", desc: "IntrospecÃ§Ã£o, solidÃ£o, guia interior. Um tempo para refletir e buscar respostas dentro de si." },
                    { name: "A Roda da Fortuna", icon: "fa-solid fa-arrows-spin", desc: "Destino, pontos de virada, sorte. O universo estÃ¡ em movimento, prepare-se para mudanÃ§as." },
                    { name: "A JustiÃ§a", icon: "fa-solid fa-scale-balanced", desc: "JustiÃ§a, verdade, causa e efeito. Seja honesto e arque com as consequÃªncias de suas aÃ§Ãµes." },
                    { name: "A Morte", icon: "fa-solid fa-skull", desc: "Fim, transformaÃ§Ã£o, renascimento. Algo precisa acabar para que algo novo comece." },
                    { name: "O Sol", icon: "fa-solid fa-sun", desc: "Alegria, sucesso, vitalidade. Tudo estÃ¡ iluminado, aproveite este momento de glÃ³ria." },
                ];

                const revealCard = () => {
                    if (isFlipped.value) return;
                    // Random pick
                    const rnd = Math.floor(Math.random() * deck.length);
                    card.value = deck[rnd];
                    isFlipped.value = true;
                };

                const reset = () => {
                    isFlipped.value = false;
                    setTimeout(() => card.value = null, 300); // Clear after flip back
                };

                const shareWhatsapp = () => {
                    const text = `ðŸ”® *Tarot do Dia*\n\nMinha carta: *${card.value.name}*\n"${card.value.desc}"\n\nDescubra a sua em: Plena Apps`;
                    window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
                };

                return { isFlipped, card, revealCard, reset, shareWhatsapp };
            }
        }).mount('#app');
    </script>
</body>

</html>