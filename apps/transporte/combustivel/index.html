<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Custo de Viagem | Plena Aplicativos</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;600;700&family=Inter:wght@400;600;800&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], display: ['Chakra Petch', 'sans-serif'] },
                    colors: {
                        road: { 800: '#1e293b', 900: '#0f172a' },
                        speed: { 400: '#facc15', 500: '#eab308' }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #0f172a;
            color: #f1f5f9;
            font-family: 'Inter', sans-serif;
        }

        .gradient-mesh {
            background-image:
                radial-gradient(at 0% 0%, rgba(234, 179, 8, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(59, 130, 246, 0.15) 0px, transparent 50%);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #eab308;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
        }
    </style>
</head>

<body class="min-h-screen flex flex-col md:flex-row gradient-mesh selection:bg-speed-500 selection:text-black">

    <div id="app" class="flex-1 flex flex-col md:flex-row h-full w-full max-w-6xl mx-auto md:p-8 gap-8">

        <!-- Input Section -->
        <main
            class="flex-1 flex flex-col bg-road-800/80 backdrop-blur-md rounded-b-3xl md:rounded-3xl shadow-2xl border border-white/5 relative overflow-hidden">

            <div class="p-6 md:p-8 border-b border-white/5 flex items-center gap-4">
                <div
                    class="w-12 h-12 rounded-xl bg-speed-500 text-black flex items-center justify-center text-2xl shadow-[0_0_20px_rgba(234,179,8,0.4)]">
                    <i class="fa-solid fa-road"></i>
                </div>
                <div>
                    <h1 class="font-display font-bold text-2xl uppercase tracking-wider">Calculadora de Viagem</h1>
                    <p class="text-xs text-slate-400">Estimativa de custos e divis√£o</p>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto p-6 md:p-8 space-y-8">

                <!-- Vehicle Settings -->
                <div class="bg-white/5 p-5 rounded-2xl border border-white/5">
                    <h3
                        class="font-display font-bold text-speed-400 uppercase tracking-widest text-sm mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-car"></i> Ve√≠culo
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-slate-400 mb-2">Consumo M√©dio (km/L)</label>
                            <div class="relative">
                                <input type="number" v-model.number="form.consumption"
                                    class="w-full bg-black/30 border border-white/10 rounded-xl p-3 text-lg font-mono focus:border-speed-500 outline-none transition text-center"
                                    step="0.1">
                                <span class="absolute right-4 top-3.5 text-xs text-slate-500">km/L</span>
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-400 mb-2">Pre√ßo Combust√≠vel</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3.5 text-xs text-slate-500">R$</span>
                                <input type="number" v-model.number="form.fuelPrice"
                                    class="w-full bg-black/30 border border-white/10 rounded-xl p-3 pl-8 text-lg font-mono focus:border-speed-500 outline-none transition text-center"
                                    step="0.01">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trip Details -->
                <div class="bg-white/5 p-5 rounded-2xl border border-white/5">
                    <h3
                        class="font-display font-bold text-blue-400 uppercase tracking-widest text-sm mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-map-location-dot"></i> Roteiro
                    </h3>

                    <div class="mb-6">
                        <label class="flex justify-between text-xs font-bold text-slate-400 mb-2">
                            <span>Dist√¢ncia Total (Ida+Volta)</span>
                            <span class="text-white">{{ form.distance }} km</span>
                        </label>
                        <input type="range" v-model.number="form.distance" min="1" max="2000"
                            class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between text-[10px] text-slate-600 mt-1 font-mono">
                            <span>0 km</span>
                            <span>2000 km</span>
                        </div>
                        <div class="mt-2 flex items-center justify-end">
                            <input type="number" v-model.number="form.distance"
                                class="w-24 bg-black/30 border border-white/10 rounded-lg p-1 text-right text-sm font-mono outline-none focus:border-blue-500">
                            <span class="ml-2 text-xs text-slate-500">ou digite</span>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-xs font-bold text-slate-400 mb-2">Ped√°gios (Total)</label>
                            <div class="relative">
                                <span class="absolute left-4 top-3.5 text-xs text-slate-500">R$</span>
                                <input type="number" v-model.number="form.tolls"
                                    class="w-full bg-black/30 border border-white/10 rounded-xl p-3 pl-8 text-lg font-mono focus:border-blue-500 outline-none transition text-center"
                                    step="0.10">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-400 mb-2">Passageiros (Divis√£o)</label>
                            <div
                                class="flex items-center bg-black/30 border border-white/10 rounded-xl overflow-hidden">
                                <button @click="form.people = Math.max(1, form.people - 1)"
                                    class="p-3 w-12 hover:bg-white/5 text-slate-400">-</button>
                                <input type="number" v-model.number="form.people"
                                    class="flex-1 bg-transparent text-center font-mono text-lg outline-none" readonly>
                                <button @click="form.people++"
                                    class="p-3 w-12 hover:bg-white/5 text-slate-400">+</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Quick Presets Footer -->
            <div class="p-4 bg-black/20 border-t border-white/5 flex justify-center gap-2 overflow-x-auto">
                <button @click="preset('city')"
                    class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 text-xs font-bold border border-white/5 transition whitespace-nowrap">üèôÔ∏è
                    Cidade (10km)</button>
                <button @click="preset('beach')"
                    class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 text-xs font-bold border border-white/5 transition whitespace-nowrap">üèñÔ∏è
                    Praia (150km)</button>
                <button @click="preset('country')"
                    class="px-4 py-2 rounded-full bg-white/5 hover:bg-white/10 text-xs font-bold border border-white/5 transition whitespace-nowrap">‚õ∞Ô∏è
                    Interior (400km)</button>
            </div>

        </main>

        <!-- Result Sidebar -->
        <aside
            class="w-full md:w-96 bg-speed-500 text-road-900 rounded-t-3xl md:rounded-3xl shadow-2xl flex flex-col relative overflow-hidden">

            <div class="absolute inset-0 opacity-10 pointer-events-none"
                style="background-image: repeating-linear-gradient(45deg, #000 25px, #000 50px, transparent 50px, transparent 100px);">
            </div>

            <div class="relative z-10 p-8 flex flex-col h-full justify-center">

                <div class="mb-10 text-center">
                    <p class="text-sm font-bold uppercase tracking-widest text-road-900/60 mb-2">Custo Total Estimado
                    </p>
                    <div class="text-6xl font-display font-bold tracking-tighter drop-shadow-sm">
                        <span class="text-3xl align-top opacity-50 relative top-2">R$</span>{{
                        formatMoney(totalCost).replace('R$', '') }}
                    </div>
                </div>

                <div class="bg-white/20 p-6 rounded-2xl backdrop-blur-sm border border-black/5 mb-8">
                    <div class="flex justify-between items-center mb-4 border-b border-black/10 pb-4">
                        <span class="font-bold text-sm uppercase opacity-70">Por Pessoa</span>
                        <div class="text-right">
                            <span class="block text-3xl font-bold">{{ formatMoney(costPerPerson) }}</span>
                            <span class="text-[10px] uppercase font-bold opacity-60">{{ form.people }}
                                Passageiro(s)</span>
                        </div>
                    </div>

                    <div class="space-y-2 text-sm font-medium opacity-80">
                        <div class="flex justify-between">
                            <span>Combust√≠vel</span>
                            <span>{{ formatMoney(fuelCost) }}</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Ped√°gios</span>
                            <span>{{ formatMoney(form.tolls) }}</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-road-900 text-white p-4 rounded-xl text-center shadow-lg">
                        <i class="fa-solid fa-gas-pump text-speed-500 text-xl mb-2"></i>
                        <p class="text-[10px] uppercase font-bold text-slate-400">Litros Nec.</p>
                        <p class="text-2xl font-bold font-mono">{{ litersNeeded.toFixed(1) }} L</p>
                    </div>
                    <div class="bg-road-900 text-white p-4 rounded-xl text-center shadow-lg">
                        <i class="fa-solid fa-gauge-high text-blue-400 text-xl mb-2"></i>
                        <p class="text-[10px] uppercase font-bold text-slate-400">Km/L Real</p>
                        <p class="text-2xl font-bold font-mono">{{ form.consumption }}</p>
                    </div>
                </div>

            </div>

            <div class="relative z-10 p-4 text-center text-[10px] font-bold opacity-40 uppercase tracking-widest">
                Plena Apps ‚Ä¢ Drive Safe
            </div>

        </aside>

    </div>

    <script>
        const { createApp, ref, computed, onMounted, watch } = Vue;
        const DB_KEY = 'plena_fuel_v1';

        createApp({
            setup() {
                const form = ref({
                    consumption: 10.0, // km/L
                    fuelPrice: 5.50, // R$
                    distance: 100, // km
                    tolls: 0, // R$
                    people: 1
                });

                onMounted(() => {
                    const d = localStorage.getItem(DB_KEY);
                    if (d) {
                        const parsed = JSON.parse(d);
                        // We only want to persist car settings broadly, but let's persist all for convenience
                        form.value = { ...form.value, ...parsed };
                    }
                });

                watch(form, () => {
                    localStorage.setItem(DB_KEY, JSON.stringify(form.value));
                }, { deep: true });

                const litersNeeded = computed(() => {
                    if (form.value.consumption <= 0) return 0;
                    return form.value.distance / form.value.consumption;
                });

                const fuelCost = computed(() => {
                    return litersNeeded.value * form.value.fuelPrice;
                });

                const totalCost = computed(() => {
                    return fuelCost.value + form.value.tolls;
                });

                const costPerPerson = computed(() => {
                    if (form.value.people <= 0) return 0;
                    return totalCost.value / form.value.people;
                });

                const formatMoney = (val) => {
                    return val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
                };

                const preset = (type) => {
                    if (type === 'city') { form.value.distance = 10; form.value.tolls = 0; }
                    if (type === 'beach') { form.value.distance = 150; form.value.tolls = 30; }
                    if (type === 'country') { form.value.distance = 400; form.value.tolls = 60; }
                };

                return {
                    form,
                    litersNeeded, fuelCost, totalCost, costPerPerson,
                    formatMoney, preset
                };
            }
        }).mount('#app');
    </script>
</body>

</html>